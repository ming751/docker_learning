# ğŸ³ C++ Docker å¼€å‘ç¯å¢ƒå®è·µé¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ C++ Docker å¼€å‘ç¯å¢ƒç¤ºä¾‹é¡¹ç›®ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Docker å®¹å™¨åŒ– C++ å¼€å‘æµç¨‹ã€‚

## ğŸ“‹ é¡¹ç›®ç‰¹æ€§

- âœ… å®Œæ•´çš„ C++ é¡¹ç›®ç»“æ„
- ğŸ³ Docker å®¹å™¨åŒ–å¼€å‘ç¯å¢ƒ
- ğŸ“Š æ•°å­¦å·¥å…·åº“ç¤ºä¾‹
- ğŸ”§ å¤šç§æ„å»ºå’Œè°ƒè¯•è„šæœ¬
- ğŸ¨ ä»£ç æ ¼å¼åŒ–å’Œé™æ€åˆ†æ
- ğŸ“¦ CMake æ„å»ºç³»ç»Ÿ
- ğŸš€ ä¸€é”®æ„å»ºå’Œè¿è¡Œ

## ğŸ“ é¡¹ç›®ç»“æ„

```
docker_learning/
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ CMakeLists.txt           # CMake æ„å»ºé…ç½®
â”œâ”€â”€ Makefile                 # ç»Ÿä¸€çš„æ„å»ºå’Œç®¡ç†å·¥å…·
â”œâ”€â”€ .gitignore               # Git å¿½ç•¥æ–‡ä»¶
â”‚
â”œâ”€â”€ src/                     # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.cpp            # ä¸»ç¨‹åº
â”‚   â””â”€â”€ math_utils.cpp      # æ•°å­¦å·¥å…·åº“å®ç°
â”‚
â”œâ”€â”€ include/                 # å¤´æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ my_project/
â”‚       â””â”€â”€ math_utils.hpp  # æ•°å­¦å·¥å…·åº“å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€ tests/                   # æµ‹è¯•ç›®å½•
â”‚   â””â”€â”€ test_math_utils.cpp # å•å…ƒæµ‹è¯•
â”‚
â””â”€â”€ docker/                  # Docker é…ç½®
    â”œâ”€â”€ docker-compose.yaml # Docker Compose é…ç½®
    â””â”€â”€ ubuntu-local/
        â””â”€â”€ Dockerfile      # Docker é•œåƒå®šä¹‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker
- Docker Compose

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd docker_learning
```

### 2. æ„å»ºå¹¶è¿è¡Œ

```bash
# ä¸€é”® Docker æ„å»ºï¼ˆæ¨èï¼‰
./docker_build.sh

# æˆ–è€…åœ¨å®¹å™¨å†…æ‰‹åŠ¨æ„å»º
./auto_build.sh --all
```

## ğŸ› ï¸ è„šæœ¬è¯´æ˜

### ä¸»è¦è„šæœ¬

- **`docker_build.sh`** - Docker æ„å»ºè„šæœ¬ï¼Œå¯åŠ¨å®¹å™¨å¹¶æ‰§è¡Œæ„å»º
- **`auto_build.sh`** - è‡ªåŠ¨æ„å»ºè„šæœ¬ï¼Œæ”¯æŒå¤šç§æ„å»ºé€‰é¡¹

### auto_build.sh é€‰é¡¹

```bash
# æŸ¥çœ‹å¸®åŠ©
./auto_build.sh --help

# æ‰§è¡Œæ‰€æœ‰æ­¥éª¤ï¼ˆæ„å»º + è¿è¡Œ + æµ‹è¯•ï¼‰
./auto_build.sh --all

# ä»…æ„å»ºé¡¹ç›®
./auto_build.sh --build

# ä»…è¿è¡Œä¸»ç¨‹åº
./auto_build.sh --run

# ä»…è¿è¡Œæµ‹è¯•
./auto_build.sh --test
```

### æ‰‹åŠ¨æ„å»ºï¼ˆåœ¨å®¹å™¨å†…ï¼‰

```bash
# è¿›å…¥å®¹å™¨
docker exec -it my-cpp-dev bash

# æ‰‹åŠ¨æ„å»º
mkdir -p build
cd build
cmake ..
make -j$(nproc)

# è¿è¡Œç¨‹åº
./my_app
```

## ğŸ³ Docker ç¯å¢ƒç‰¹æ€§

### å¼€å‘å·¥å…·

å®¹å™¨å†…åŒ…å«ä»¥ä¸‹å¼€å‘å·¥å…·ï¼š

- **æ„å»ºå·¥å…·**: GCC, Clang, CMake, Ninja
- **è°ƒè¯•å·¥å…·**: GDB, Valgrind
- **ä»£ç è´¨é‡**: clang-format, clang-tidy
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **ç¼–è¯‘ç¼“å­˜**: ccache
- **å®ç”¨å·¥å…·**: vim, nano, tree, htop

### å®‰å…¨ç‰¹æ€§

- ä½¿ç”¨é root ç”¨æˆ· `developer`
- æŒ‚è½½åªè¯»é…ç½®æ–‡ä»¶
- æŒä¹…åŒ–ç¼–è¯‘ç¼“å­˜

### æ€§èƒ½ä¼˜åŒ–

- ccache ç¼–è¯‘ç¼“å­˜
- å¤šæ ¸å¹¶è¡Œç¼–è¯‘
- æŒä¹…åŒ–æ•°æ®å·

## ğŸ“Š é¡¹ç›®åŠŸèƒ½

è¿™ä¸ªç¤ºä¾‹é¡¹ç›®å®ç°äº†ä¸€ä¸ªæ•°å­¦å·¥å…·åº“ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

- âœ… åŸºæœ¬ç»Ÿè®¡è®¡ç®—ï¼ˆæ±‚å’Œã€å¹³å‡å€¼ã€æœ€å¤§å€¼ã€æœ€å°å€¼ï¼‰
- ğŸ“ˆ é«˜çº§ç»Ÿè®¡ï¼ˆæ–¹å·®ã€æ ‡å‡†å·®ï¼‰
- ğŸ”§ å·¥å…·å‡½æ•°ï¼ˆå‘é‡æ‰“å°ï¼‰
- âš ï¸ é”™è¯¯å¤„ç†å’Œå¼‚å¸¸å®‰å…¨

### ç¤ºä¾‹è¾“å‡º

```
ğŸ³ Hello from Docker container!
ğŸ“Š C++ Math Utils Demo
======================
æ•°æ®é›†: [1.50, 2.30, 3.70, 4.10, 5.90, 2.80, 6.20, 1.90, 4.50, 3.30]

ğŸ“ˆ åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯:
   æ€»å’Œ: 36.200
   å¹³å‡å€¼: 3.620
   æœ€å¤§å€¼: 6.200
   æœ€å°å€¼: 1.500
   æ–¹å·®: 2.840
   æ ‡å‡†å·®: 1.685

âœ… æ‰€æœ‰è®¡ç®—å®Œæˆ!
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### è°ƒè¯•æ¨¡å¼

```bash
# æ„å»ºè°ƒè¯•ç‰ˆæœ¬å¹¶å¯åŠ¨ GDB
./debug.sh
```

### ä»£ç æ ¼å¼åŒ–

```bash
# æ ¼å¼åŒ–æ‰€æœ‰ C++ ä»£ç 
./format.sh
```

### å†…å­˜æ£€æŸ¥

```bash
# è¿›å…¥å®¹å™¨
./shell.sh

# ä½¿ç”¨ Valgrind æ£€æŸ¥å†…å­˜æ³„æ¼
cd build
valgrind --leak-check=full ./my_app
```

### é™æ€åˆ†æ

```bash
# è¿è¡Œ clang-tidy é™æ€åˆ†æ
./format.sh
```

## ğŸ“ å¼€å‘æœ€ä½³å®è·µ

### ä»£ç ç»„ç»‡

- å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶åˆ†ç¦»
- ä½¿ç”¨å‘½åç©ºé—´é¿å…å†²çª
- å¼‚å¸¸å®‰å…¨çš„é”™è¯¯å¤„ç†

### Docker æœ€ä½³å®è·µ

- å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒå¤§å°
- é root ç”¨æˆ·æé«˜å®‰å…¨æ€§
- æŒä¹…åŒ–æ•°æ®å·ä¿å­˜ç¼“å­˜
- ç¯å¢ƒå˜é‡é…ç½®

### æ„å»ºç³»ç»Ÿ

- CMake ç°ä»£åŒ–é…ç½®
- æ”¯æŒå¤šç§æ„å»ºç±»å‹
- ç¼–è¯‘å‘½ä»¤å¯¼å‡ºï¼ˆIDE æ”¯æŒï¼‰

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ”— ç›¸å…³èµ„æº

- [Docker å®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [CMake æ–‡æ¡£](https://cmake.org/documentation/)
- [C++ æ ¸å¿ƒæŒ‡å—](https://isocpp.github.io/CppCoreGuidelines/)
- [clang-format é…ç½®](https://clang.llvm.org/docs/ClangFormat.html)

---

**äº«å— Docker åŒ–çš„ C++ å¼€å‘ä½“éªŒï¼** ğŸš€